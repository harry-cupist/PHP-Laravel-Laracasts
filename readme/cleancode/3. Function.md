## Function

#### 1. 원칙 - 함수는 한가지 일만 해야한다.

함수의 크기가 얼마나 되어야 한가지만 하는 것이라 할 수 있는가? 과장하여 함수는 4줄짜리여야 한다고도 함

Indentation, while, nested, if 등이 없어야함. 잘 지어진 서술적인 긴 이름을 갖는 많은/작은 함수들로 유지해야 함. 주석을 많이 쓰느데, 주석을 그대로 함수로 쓴다면 주석은 쓸필요가 없지 않겠느냐? 

"small many functions, nice descriptive long name"



#### 2. The First Rule of Functions

함수는 더이상 작아질 수 없을 만큼 작아야 한다. 

큰 함수를 보면 클래스로 추출할 생각을 해야함 (마틴 파울러 - Extract Method Object)

클래스? 일련의 변수들에 동작하는 기능의 집합. 

여러 메서드에서 사용하고 있는 변수를 Field variable로 올리게 되면, 또다시 파라미터로 받을 필요가 없어짐. (함수는 작은 개수의 파라미터를 가져야한다는 조건도 만족시키게 됨) 



#### 3. 개선 & 개선 원인

읽기 쉬워지고, 이해하기 쉬워지고, 함수가 자신의 의도를 잘 전달함.

- 함수의 첫번째 규칙(함수는 작아질 수 있는한 최대한 작아야함)이 적용되었음.

- 블록이 적어야 함(if, else, while 문장 등의 내부 블록은 한줄이어야함). 괄호가 없어야 함.
- Indenting이 적어야함. 함수는 중첩 구조를 갖을 만큼 크면 안됨. 들여쓰기는 1~2단계 정도만



#### 4. functions should do one thing

-  함수의 각 스텝들이 함수 이름이 갖는 추상화 수준보다 한단계 낮은 것으로만 이뤄졌다면 함수는 한가지 일만 하는 것이라고 볼 수 있음.
  - 로그인을 하기 위해서 사용자의 아이디와 패스워드를 받는다 -> Ok
  - 사용자의 아이디와 패스워드를 HTML의 어떤 폼태그와 폼 필드를 통해서 입력 받는다. 데이터 베이스 검증은 데이터 베이스를 검증 한다. -> 아이디를 입력받는 구체적인 방법과 데이터 베이스 검증하는 추상적인 방법은 추상화 수준이 다름.  이러한 경우는 아이디를 입력받는 구체적인 방법을 다시 extract해서 추상화 수준을 데이터베이스 검증과 같게 해야함.

- Reading code from top to bottom 

  - To 부정사로 잘게 쪼갠다면 스텝별로 구분된 함수들의 구조를 파악할 수 있음.

  

큰 함수는 실제로는 클래스가 숨어 있는 것

큰 함수는 변수와 인자들, 들여쓰기에 존재하고 변수들을 사용해서 통신하는 기능들의 집합. 따라서 항상 하나 이상의 클래스로 분리할 수 있음.



